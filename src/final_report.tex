\documentclass{article}

% if you need to pass options to natbib, use, e.g.:
%     \PassOptionsToPackage{numbers, compress}{natbib}
% before loading neurips_2024


% ready for submission
\usepackage[preprint]{neurips_2024}
\usepackage{booktabs}
\usepackage{makecell}
\usepackage{enumitem}

% to compile a preprint version, e.g., for submission to arXiv, add add the
% [preprint] option:
%     \usepackage[preprint]{neurips_2024}


% to compile a camera-ready version, add the [final] option, e.g.:
%     \usepackage[final]{neurips_2024}


% to avoid loading the natbib package, add option nonatbib:
%    \usepackage[nonatbib]{neurips_2024}


\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{xcolor}         % colors
\usepackage{graphicx}       % for showing images
\usepackage{subcaption}
\usepackage{float}


\title{Midway Report -- Exploration of Migration Patterns and Prediction of Sightings for Osprey, California Condor, and Puffin Species}


% The \author macro works with any number of authors. There are two commands
% used to separate the names and addresses of multiple authors: \And and \AND.
%
% Using \And between authors leaves it to LaTeX to determine where to break the
% lines. Using \AND forces a line break at that point. So, if LaTeX puts 3 of 4
% authors names on the first line, and the last on the second line, try using
% \AND instead of \And before the third author name.


\author{%
    Iris Glaze \\
    \texttt{kiglaze@ncsu.edu} \\
}



\begin{document}

    \maketitle

    % Added sections for project report
    \section{Background \& Introduction}
    The Cornell Lab of Ornithology maintains a large database of bird observations called EBird.
    Birdwatchers submit their bird observations through the Cornell Lab of
    Ornithology mobile app or website, so the data is crowd-sourced. Data points
    exist for thousands of bird species. [7]

    This study is focused on Ospreys, California Condors, and Atlantic Puffins in
    the United States, Mexico, Canada, and Cuba. Ospreys and Atlantic Puffins both
    migrate, but California Condors do not. California Condors are endangered, and Atlantic
    Puffins have a vulnerable population but are not endangered. Ospreys currently
    have a low concern level regarding their population, but their population has previously
    been under threat in the 1950’s. Given this variety of bird characteristics,
    models can be created to predict the presence of bird sightings during a given
    week and location for each of these bird species.

    Limitations of studying the eBird data include that observations depend on
    humans being present and able to access Cornell’s bird app or website. More
    humans birdwatching may be associated with more observations in the dataset.
    The data also depends on people using the bird app to use the app properly.

    Predicting the presence of bird species sightings per week is useful to better understand the
    ecological makeup of a geographical region in relation to time. It also
    provides information about the bird species’ migration patterns in relation to
    a particular geographic region, and the health of the bird population.

    Martin’s paper uses random forests as one of the machine learning models to predict special-temporal
    patters. [1] This helps inform one of the models that this research will use.

    \section{Methods}
Osprey, Atlantic Puffin, and California observation data was first studied within a
larger geographical region (United States, Mexico, Canada, and Cuba). Then, the
geographical area of focus was narrowed and restricted for each bird species
for the next phase of the study.

To study the Osprey, Atlantic Puffin, and California observation data at a larger geographic
scale, corresponding .csv file geographical observation data was grouped by
observation date week and year combinations for all observation dates between
March 1, 2023 and August 31, 2025. Then it was mapped onto maps of North
America by latitude and longitude. Observation countries of focus were limited
to the United States, Canada, Mexico, and Cuba. A similar process was followed
for this data to also demonstrate maps showing bird sightings grouped by season
and year for each listed species. Because the number of observations per annual
season for some bird species was too large to visualize on a map, samples of
the total number of seasonal observations were taken for the purposes of data
visualization. Here are the seasonal sample percentages shown by species below:

    \begin{table}[h]
        \centering
        \begin{tabular}{l c}
            \toprule
            \textbf{Species} & \textbf{Percentage Sampled (Per Annual Season)} \\
            \midrule
            Osprey & 10\% \\
            Atlantic Puffin & 40\% \\
            California Condor & 100\% \\
            \bottomrule
        \end{tabular}
    \end{table}

These geographical distribution maps were stitched together in chronological order to
make animations showing seasonal migration patterns. This resulted in the creation
of the following types of map visualization animations using raw data:
    \begin{itemize}[noitemsep, topsep=0pt]
        \item Osprey weekly sighting maps
        \item Osprey seasonal sighting maps (sampled at 10\%)
        \item Atlantic Puffin weekly sighting maps
        \item Atlantic Puffin seasonal sighting maps (sampled at 40\%)
        \item California Condor weekly sighting maps
        \item California Condor seasonal sighting maps (100\% of seasonal sighting data points)
    \end{itemize}

To clean up the geographical observation data map visualizations and thus the
corresponding map animations, all six of the previously listed animations were
re-created, but with “noise” points being excluded by applying DBSCAN. The
distance calculation used for DBSCAN was the “Haversine” distance, which
accounts for the nature of latitude, longitude, and the roundness of the Earth.
DBSCAN was applied for the data points in each individual map making up an
animation. These post-DBSCAN geographical animations provided a clearer
visualization of bird migration pattern clusters by species.

Next, geographic regions of focus were narrowed for the remainder of the study. A
specific latitude and longitude range was singled out for each of the three
species, Osprey, Atlantic Puffins, and California Condors, using the generated
visualization maps and animations. The following geographical location and bird
species combinations were human-selected for further examination: Ospreys in
the Eastern Glacier Bay area in Alaska, Atlantic Puffins in the Massachusetts area,
and California Condors in the Grand Canyon area of Arizona. These hand-selected
geographic regions of focus are more clearly defined by latitude and longitude
ranges, which are demonstrated in the figures below.

    \begin{table}[h]
        \centering
        \begin{tabular}{l l c c c c}
            \toprule
            \textbf{Bird Species} &
            \makecell{\textbf{Region}\\\textbf{Label}} &
            \makecell{\textbf{Minimum}\\\textbf{Latitude}} &
            \makecell{\textbf{Maximum}\\\textbf{Latitude}} &
            \makecell{\textbf{Minimum}\\\textbf{Longitude}} &
            \makecell{\textbf{Maximum}\\\textbf{Longitude}} \\
            \midrule

            \textbf{Osprey} &
            \makecell[l]{Eastern\\Glacier Bay\\Area, Alaska} &
            58.0 & 60.0 & -137.0 & -135.0 \\[2pt]

            \textbf{Atlantic Puffin} &
            \makecell[l]{Massachusetts\\Area} &
            41.0 & 42.8 & -73.7 & -69.8 \\[2pt]

            \textbf{California Condor} &
            \makecell[l]{Grand Canyon\\Area, Arizona} &
            35.0 & 37.0 & -113.0 & -111.0 \\
            \bottomrule
        \end{tabular}
    \end{table}

These map visualizations show the selected geographic regions of focus more specifically:

    \begin{figure}[H]
        \centering
        % First row
        \begin{subfigure}{0.48\textwidth}
            \includegraphics[width=\textwidth]{images/geographic_regions/osprey_region.png}
            \caption{
                Osprey Region of Focus - Eastern Glacier Bay Area, Alaska.\\
                Latitude Range: (58.0, 60.0).\\
                Longitude Range: (-137.0, -135.0).
            }
            \label{fig:geo_reg_osprey}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.48\textwidth}
            \includegraphics[width=\textwidth]{images/geographic_regions/atl_puffin_region.png}
            \caption{
                Atlantic Puffin Region of Focus - Massachusetts Area.\\
                Latitude Range: (41.0, 42.8).\\
                Longitude Range: (-73.7, -69.8).
            }
            \label{fig:geo_reg_atl_puffin}
        \end{subfigure}

        \vspace{0.5em}

        % Second row
        \begin{subfigure}{0.48\textwidth}
            \includegraphics[width=\textwidth]{images/geographic_regions/ca_condor_region.png}
            \caption{
                California Condor Region of Focus - Grand Canyon Area, Arizona.\\
                Latitude Range: (35.0, 37.0).\\
                Longitude Range: (-113.0, -111.0).
            }
            \label{fig:geo_reg_ca_condor}
        \end{subfigure}

        \caption{Geographical Regions Selected - Per Species}
        \label{fig:geo_reg_grid}
    \end{figure}

For each of these bird species and geographical area combinations, data was
transformed to determine whether bird species sightings existed in the
corresponding geographical areas each week between March 2015 and August 2025.
This was created to help predict the likelihood of Osprey sightings for each
week of the year. To do this, this data was fit to a cyclic logistic regression
model for each species and geographic region combination.

Tree-based classification models including Decision Trees with pruning, Random Forest,
Gradient Boosting Classifier, and Extreme Gradient Boosting (XGBoost) were
trained on data and tested.

Features of the data that these models examined as input included: a continuous numeric
representation of seasonality (labelled as week\_cos), average temperature (C),
minimum temperature (C), maximum temperature (C), precipitation (mm), wind
speed, air pressure, and snow.

The dependent variable is whether a bird was observed in its geographic region of focus, and
each row of data represented a week and year combination.

\section{Plan and Experiment Setup}

A large 200GB dataset of bird sighting data, named Basic Dataset, was downloaded
from \href{https://ebird.org/data/download}{https://ebird.org/data/download} after requesting
access permission from Cornell’s Lab of Ornithology. This data includes
latitude, longitude, bird species name, observation date, country name, some
additional variables describing the geographical location, and sometimes the
bird’s behavior. Next, a Python script was used to extract all data for
specific species of birds by filtering the large dataset in chunks. This data
was exported it to a .csv file. The set of bird species included were Ospreys,
California Condors, and Atlantic Puffins. Then, the Osprey observations,
California Condor observations, and Atlantic Puffin observations were each
output to their own single .csv file.

After bird species were sorted into their own .csv files, additional columns were
added to describe the observation dates to make for easier grouping by dates.
Some of these included the month, the year, the season, and the week number.
Columns for the latitude and longitude in radians were also added to help with
DBSCAN calculations.

A dataset was created for each bird species which contained each week and year combination
between March 1, 2015 and August 31, 2025. Another Boolean column was added to
indicate if the bird was spotted in its geographic region of focus during that
given week or not.

Next, environmental and weather data obtained from the MeteoStat Python package was joined with this
dataset which indicated if a bird was spotted or not. This provided more
variables for additional model exploration of each studied species in their
respective geographical location. These additional variables helped predict the
presence or absence of bird species sightings in their chosen geographic region
per week in a more detailed fashion.

    \section{Results}
    Here are examples of DBSCAN being applied. The first example is from observation days
    being grouped by week, and the second example has days grouped by season.\\
    Week 33, 2024: Osprey Observation Map
    % Side-by-side images for Osprey week 33, 2024
    \begin{samepage}
        \begin{figure}[h]
            \centering
            \begin{minipage}{0.48\textwidth}
                \centering
                \includegraphics[width=\textwidth]{images/no_dbscan_osprey_week33_2024.png}
                \caption{Without DBSCAN}
                \label{fig:no_dbscan_osprey_wk33_24}
            \end{minipage}\hfill
            \begin{minipage}{0.48\textwidth}
                \centering
                \includegraphics[width=\textwidth]{images/dbscan_osprey_week33_2024.png}
                \caption{With DBSCAN}
                \label{fig:dbscan_osprey_wk33_24}
            \end{minipage}
        \end{figure}

        \vspace{-1em}
        Winter 2023: Osprey Observation Map
        % Side-by-side images for Osprey Winter 2023
        \begin{figure}[h]
            \centering
            \begin{minipage}{0.48\textwidth}
                \centering
                \includegraphics[width=\textwidth]{images/no_dbscan_osprey_winter_2023.png}
                \caption{Without DBSCAN}
                \label{fig:no_dbscan_osprey_winter23}
            \end{minipage}\hfill
            \begin{minipage}{0.48\textwidth}
                \centering
                \includegraphics[width=\textwidth]{images/dbsan_osprey_winter_2023.png}
                \caption{With DBSCAN}
                \label{fig:dbscan_osprey_winter23}
            \end{minipage}
        \end{figure}
    \end{samepage}

    Animations linked in YouTube below demonstrate the DBSCAN maps over time from March 2023-August
    2025 for each species. The animations helped inform selecting locations of
    further focus for the next step, cyclic logistic regression.\\

    Post-DBSCAN Map Animations:
    \begin{samepage}
        Weekly observation date groupings: \\
        Osprey, DBSCAN, Weekly: \url{https://youtu.be/dAQBNUsSv2A} \\
        Atlantic Puffin, DBSCAN, Weekly: \url{https://youtu.be/eX5zdkZRiiQ} \\
        California Condor, DBSCAN, Weekly: \url{https://youtu.be/-5MAU0RcSOI} \\
        Seasonal observation date groupings: \\
        Osprey, DBSCAN, Seasonal: \url{https://youtu.be/8nmQlWG9Sa4} \\
        Atlantic Puffin, DBSCAN, Seasonal: \url{https://youtu.be/Ih1CqyifmHI} \\
        California Condor, DBSCAN, Seasonal: \url{https://youtu.be/GDQsCA-IGp8} \\
    \end{samepage}

    Cyclical logistic regression was carried out for the
    presence of Osprey, Atlantic Puffin, and California Condor sightings given the
    week number. The Osprey plot demonstrates a peak in the likelihood of viewing
    at least one Osprey in Glacier Bay around approximately week 29 or week 30,
    which is mid to late July. The Atlantic Puffin plot peaks in sighting
    likelihood around the end and beginning of the calendar year. The California
    Condor plot doesn’t have as much variation in the likelihood of sightings throughout
    the year, but California Condors are likely to be spotted each week in the
    Grand Canyon region observed.

    \begin{figure}[H]
        \centering
        % First row
        \begin{subfigure}{0.48\textwidth}
            \includegraphics[width=\textwidth]{images/log_reg_osprey_glacier_bay,_alaska.png}
            \caption{Osprey: Glacier Bay, Alaska}
            \label{fig:cyc_log_reg_osprey}
        \end{subfigure}
        \hfill
        \begin{subfigure}{0.48\textwidth}
            \includegraphics[width=\textwidth]{images/log_reg_california_condor_grand_canyon.png}
            \caption{California Condor: Grand Canyon}
            \label{fig:cyc_log_reg_condor}
        \end{subfigure}

        \vspace{0.5em}

        % Second row
        \begin{subfigure}{0.48\textwidth}
            \includegraphics[width=\textwidth]{images/log_reg_atlantic_puffin_massachusetts_coastal_area.png}
            \caption{Atlantic Puffin: Massachusetts Coastal Area}
            \label{fig:cyc_log_reg_puffin}
        \end{subfigure}

        \caption{Cyclical Logistic Regression: Likelihood of Bird Observation Occurrence in Specified Geographical Regions by Week for Three Species/Locations}
        \label{fig:cyc_log_reg_grid}
    \end{figure}
    Results for Naïve Bayes, Decision Trees, Random Forest, and Gradient Boosted Trees are still in
    progress.

    \section{Conclusion}
    Although California Condors have many fewer sightings than Osprey overall, they are
    consistently likely to be spotted in the Grand Canyon at least once a week, any
    given week during the year. Ospreys are much more abundant than California
    Condors, but only likely to be spotted in Glacier Bay, Alaska during the warmer
    months. Similarly, the DBSCAN maps showing bird observations support what is
    shown in the cyclic logistic regression plots in both cases. However, the
    Atlantic Puffin data was slightly surprising because sightings of Atlantic
    Puffins in the Massachusetts coastal area carried on into the winter months.
    Atlantic Puffin binary presence per week seemed to be more common in winter
    months. This aligns partially with how the DBSCAN map animations of Atlantic
    Puffin migrations in the sense that Atlantic Puffins tend to migrate further
    North than Massachusetts in the summer, in Maine and coastal South-Eastern
    Canada.

    \appendix
    \section{Appendix -- Plan Revision}
    DBSCAN and logistic regression were still used, but K-means
    was dropped from the models list, because it requires the number of clusters to
    be pre-determined. Also “cyclic” logistic regression was used instead of
    regular logistic regression, to account for the seasonal nature of bird sighting
    occurrences. Remaining models to implement for prediction still include Naïve Bayes,
    Decision Trees, Random Forest, and Gradient Boosted Trees. However, I may
    choose to replace one with XGBoost. Also, one of these models may be dropped
    from the final results depending on how useful other models are.

    Additionally, the likelihood of the \textit{existence} of a bird sighting given a
    particular \textit{week} is being studied. This is happening in place of studying
    the likelihood of spotting a bird given a particular \textit{day}. The existence
    of a bird sighting in a given week simply means there must be at least one bird
    observation recorded, which differs from examining the number of observations
    in a place for that species.


    \section*{References}
    \medskip
    {
        \small
        [1] Martín, B., J. González-Arias, and J. A. Vicente-Vírseda.
    "Machine learning as a successful approach for predicting complex
    spatio-temporal patterns in animal species abundance." Machine learning 44
        (2021): 289-301.

        [2] Fuentes, Miguel, et al. "BirdFlow: Learning seasonal
    bird movements from eBird data." Methods in Ecology and Evolution 14.3
        (2023): 923-938.

        [3] Ahmed, dis- Nahian, et al. "Spatial clustering of
    citizen science data improves downstream species tribution models."
    Proceedings of the AAAI Conference on Artificial Intelligence. Vol. 39. No. 27.
    2025.

        [4] Cornell Lab. Osprey. All About Birds. \url{https://www.allaboutbirds.org/guide/Osprey/}

    [5] Cornell Lab. California Condor. All About Birds. \url{https://www.allaboutbirds.org/guide/California_Condor/}

    [6] Cornell Lab. Atlantic Puffin. All About Birds. \url{https://www.allaboutbirds.org/guide/Atlantic_Puffin/}

    [7] eBird. About eBird. \url{https://ebird.org/about}
    }
\end{document}
